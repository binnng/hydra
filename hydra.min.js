!function(e,r,n){function t(e){var r=Array.prototype.slice.call(arguments,1);for(var n=0,t;t=r[n];n++){if(!t)continue;for(var a in t){e[a]=t[a]}}return e}var a={};"Array Boolean Date Function NaN Number Object RegExp String Undefined".split(" ").forEach(function(e){a["is"+e]=function(r){return r!==r?e==="NaN"?!0:!1:RegExp(e).test(Object.prototype.toString.call(r))}});var o=function(e,r){return typeof r==="string"?y(r,{filename:e}):f(e,r)};o.version="3.0.0";o.config=function(e,r){l[e]=r};var l=o.defaults={openTag:"<%",closeTag:"%>",escape:true,cache:true,compress:false,parser:null};var c=o.cache={};o.render=function(e,r){return y(e,r)};var f=o.renderFile=function(e,r){var n=o.get(e)||m({filename:e,name:"Render Error",message:"Template not found"});return r?n(r):n};o.get=function(e){var n;if(c[e]){n=c[e]}else if(typeof r==="object"){var t=r.getElementById(e);if(t){var a=(t.value||t.innerHTML).replace(/^\s*|\s*$/g,"");n=y(a,{filename:e})}}return n};var u=function(e,r){if(typeof e!=="string"){r=typeof e;if(r==="number"){e+=""}else if(r==="function"){e=u(e.call(e))}else{e=""}}return e};var s={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"};var v=function(e){return s[e]};var p=function(e){return u(e).replace(/&(?![\w#]+;)|[<>"']/g,v)};var g=Array.isArray||function(e){return{}.toString.call(e)==="[object Array]"};var h=function(e,r){var n,t;if(g(e)){for(n=0,t=e.length;n<t;n++){r.call(e,e[n],n,e)}}else{for(n in e){r.call(e,e[n],n)}}};var d=o.utils={$helpers:{},$include:f,$string:u,$escape:p,$each:h};o.helper=function(e,r){$[e]=r};var $=o.helpers=d.$helpers;o.onerror=function(e){var r="Template Error\n\n";for(var n in e){r+="<"+n+">\n"+e[n]+"\n\n"}if(typeof console==="object"){console.error(r)}};var m=function(e){o.onerror(e);return function(){return"{Template Error}"}};var y=o.compile=function(e,r){r=r||{};for(var t in l){if(r[t]===n){r[t]=l[t]}}var a=r.filename;try{var i=L(e,r)}catch(o){o.filename=a||"anonymous";o.name="Syntax Error";return m(o)}function f(n){try{return new i(n,a)+""}catch(t){if(!r.debug){r.debug=true;return y(e,r)(n)}return m(t)()}}f.prototype=i.prototype;f.toString=function(){return i.toString()};if(a&&r.cache){c[a]=f}return f};var b=d.$each;var w="break,case,catch,continue,debugger,default,delete,do,else,false"+",finally,for,function,if,in,instanceof,new,null,return,switch,this"+",throw,true,try,typeof,var,void,while,with"+",abstract,boolean,byte,char,class,const,double,enum,export,extends"+",final,float,goto,implements,import,int,interface,long,native"+",package,private,protected,public,short,static,super,synchronized"+",throws,transient,volatile"+",arguments,let,yield"+",undefined";var j=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g;var x=/[^\w$]+/g;var T=new RegExp(["\\b"+w.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g");var E=/^\d[^,]*|,\d[^,]*/g;var S=/^,+|,+$/g;var k=/^$|,+/;function A(e){return e.replace(j,"").replace(x,",").replace(T,"").replace(E,"").replace(S,"").split(k)}function O(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function L(e,r){var n=r.debug;var t=r.openTag;var a=r.closeTag;var i=r.parser;var o=r.compress;var l=r.escape;var c=1;var f={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1};var u="".trim;var s=u?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"];var v=u?"$out+=text;return $out;":"$out.push(text);";var p="function(){"+"var text=''.concat.apply('',arguments);"+v+"}";var g="function(filename,data){"+"data=data||$data;"+"var text=$utils.$include(filename,data,$filename);"+v+"}";var h="'use strict';"+"var $utils=this,$helpers=$utils.$helpers,"+(n?"$line=0,":"");var m=s[0];var y="return new String("+s[3]+");";b(e.split(t),function(e){e=e.split(a);console.log(e);var r=e[0];var n=e[1];if(e.length===1){m+=T(r)}else{m+=E(r);if(n){m+=T(n)}}});var w=h+m+y;if(n){w="try{"+w+"}catch(e){"+"throw {"+"filename:$filename,"+"name:'Render Error',"+"message:e.message,"+"line:$line,"+"source:"+O(e)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')"+"};"+"}"}try{var j=new Function("$data","$filename",w);j.prototype=d;return j}catch(x){x.temp="function anonymous($data,$filename) {"+w+"}";throw x}function T(e){c+=e.split(/\n/).length-1;if(o){e=e.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")}if(e){e=s[1]+O(e)+s[2]+"\n"}return e}function E(e){var t=c;if(i){e=i(e,r)}else if(n){e=e.replace(/\n/g,function(){c++;return"$line="+c+";"})}if(e.indexOf("=")===0){var a=l&&!/^=[=#]/.test(e);e=e.replace(/^=[=#]?|[\s;]*$/g,"");if(a){var o=e.replace(/\s*\([^\)]+\)/,"");if(!d[o]&&!/^(include|print)$/.test(o)){e="$escape("+e+")"}}else{e="$string("+e+")"}e=s[1]+e+s[2]}if(n){e="$line="+t+";"+e}b(A(e),function(e){if(!e||f[e]){return}var r;if(e==="print"){r=p}else if(e==="include"){r=g}else if(d[e]){r="$utils."+e}else if($[e]){r="$helpers."+e}else{r="$data."+e}h+=e+"="+r+",";f[e]=true});return e+"\n"}}l.openTag="{{";l.closeTag="}}";var N=function(e,r){var n=r.split(":");var t=n.shift();var a=n.join(":")||"";if(a){a=", "+a}return"$helpers."+t+"("+e+a+")"};l.parser=function(e,r){e=e.replace(/^\s/,"");var n=e.split(" ");var t=n.shift();var a=n.join(" ");switch(t){case"if":e="if("+a+"){";break;case"else":if(n.shift()==="if"){n=" if("+n.join(" ")+")"}else{n=""}e="}else"+n+"{";break;case"/if":e="}";break;case"each":var i=n[0]||"$data";var l=n[1]||"as";var c=n[2]||"$value";var f=n[3]||"$index";var u=c+","+f;if(l!=="as"){i="[]"}e="$each("+i+",function("+u+"){";break;case"/each":e="});";break;case"echo":e="print("+a+");";break;case"print":case"include":e=t+"("+n.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(a)){var s=true;if(e.indexOf("#")===0){e=e.substr(1);s=false}var v=0;var p=e.split("|");var g=p.length;var h=p[v++];for(;v<g;v++){h=N(h,p[v])}e=(s?"=":"=#")+h}else if(o.helpers[t]){e="=#"+t+"("+n.join(",")+");"}else{e="="+e}break}return e};var R=h;h=function(e,r){R(e.length?[].filter.call(e,function(e){return true}):e,r)};t(d,a,{$each:h,isObject:function(e){var r=typeof e;return r==="function"||r==="object"&&!!e}});function W(e,n){var t=this,a=[];if(n){var i=r.createElement(e);for(var o in n){i[o]=n[o]}}else{if(d.isString(e)){a=[].slice.call(r.querySelectorAll(e))}else{if(d.isObject(e)&&e.attributes){a=[e]}}for(var l=0,c=a.length;l<c;l++){t[l]=a[l]}t._elements=a;t.length=a.length;return t}}W.prototype.on=function(e,r){var n=this,t=n;e=e.split(" ");for(var a=0,i=t.length;a<i;a++){var o=t[a];for(var l=0,c=e.length;l<c;l++){if(o.addEventListener){o.addEventListener(e[l],r,false)}}}};W.prototype.find=function(e){var r=this,n=r[0],t=[];if(d.isString(e)){t=[].slice.call(n.querySelectorAll(e))}for(var a=0,i=t.length;a<i;a++){r[a]=t[a]}r._elements=t;return r};var F=function(e,r){return new W(e,r)};t(d,{$:F});var H={};var M={};var q={};function B(e){return H[e]}B.get=B;B.data=H;B.template=M;B.renders=q;B.artTemplate=o;B.set=function(e,r){var n=F("[data-hydra="+e+"]")||[];var t=q[e]||function(r){var n=[];var t;M[e]=[];h(r,function(r){t=r.innerHTML;n.push(o.compile(t));M[e].push(t)});q[e]=n;return n}(n);H[e]=r;for(i=0,len=t.length;i<len;i++){n[i].innerHTML=t[i](r);setTimeout(function(e){return function(){F(e).find("*").on("input change",function(e){console.log(this.value)})}}(n[i]),0)}};if(typeof define==="function"){define(function(){return B})}else if(typeof exports!=="undefined"){module.exports=B}else{this.hydra=B}}(window,document);